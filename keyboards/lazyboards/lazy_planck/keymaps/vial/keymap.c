#include QMK_KEYBOARD_H

#define _CMK 0
#define _LOWER 1
#define _RAISE 2
#define _ADJUST 3

enum custom_keycodes {
  CMK = SAFE_RANGE,
  LOWER,
  RAISE,
  ADJUST
};

const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {

  [_CMK] = LAYOUT_ortho_4x12(
  //┌──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┐
     KC_ESC,    KC_Q,      KC_W,      KC_F,      KC_P,      KC_B,       KC_J,      KC_L,      KC_U,      KC_Y,      LSFT(KC_COMMA),   KC_BACKSPACE,
  //├──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┤
     KC_TAB,    KC_A,      KC_R,      KC_S,      KC_T,      KC_G,      KC_M,      KC_N,      KC_E,      KC_I,      KC_O,      KC_MINUS,
  //├──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┤
     KC_LCTL,   KC_Z,      KC_X,      KC_C,      KC_D,      KC_V,      KC_K,      KC_H,      KC_COMM,   KC_DOT,    KC_SLSH,   KC_LCTL,
  //├──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┤
     _______,   _______,   KC_LGUI,   KC_LALT,   TO(RAISE), KC_SPC,    KC_ENT,   MO(LOWER),  KC_LEFT,   KC_DOWN,   KC_UP,    KC_RGHT
  //└──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┘
  ),

  //Symbol
  [_LOWER] = LAYOUT_ortho_4x12(
  //┌──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┐
     _______,   KC_GRAVE,  _______,   RALT(KC_Q),RALT(KC_E),_______,   KC_RBRC,LSFT(KC_RBRC),KC_NONUS_HASH,LSFT(KC_NONUS_HASH),_______,_______,
  //├──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┤
     _______,   LSFT(KC_1),LSFT(KC_2),LSFT(KC_3),LSFT(KC_4),LSFT(KC_5),LSFT(KC_6),LSFT(KC_7),LSFT(KC_8),LSFT(KC_9),LSFT(KC_0),_______,
  //├──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┤
     _______,   _______,   _______,   _______,   _______,   _______,    _______,   _______,   _______,   _______,   _______,   _______,
  //├──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┤
     _______,   _______,   _______,   _______,   TO(RAISE), KC_SPC,    KC_ENT,    _______,   _______,   _______,   _______,    _______
  //└──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┘
  ),
  
  //NUM
  [_RAISE] = LAYOUT_ortho_4x12(
  //┌──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┐
    _______,   _______,   _______,   _______,   _______,   _______,    _______,   KC_KP_7,   KC_KP_8,   KC_KP_9,   _______,   _______,
  //├──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┤
     _______,   _______,   _______,   _______,   _______,   _______,   _______,   KC_KP_4,   KC_KP_5,   KC_KP_6,   _______,   _______,
  //├──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┤
     _______,   _______,   _______,   _______,   _______,   _______,   _______,   KC_KP_1,   KC_KP_2,   KC_KP_3,   _______,   _______,
  //├──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┤
     _______,   _______,   _______,   _______,   TO(RAISE), KC_SPC,    KC_ENT,    KC_KP_0,   KC_KP_DOT, KC_KP_ENTER,_______,  _______
  //└──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┘
  ),

  //ADJUST
  [_ADJUST] = LAYOUT_ortho_4x12(
  //┌──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┐
     _______,   _______,   _______,   _______,   _______,   _______,   _______,   _______,   _______,   _______,   _______,   _______,
  //├──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┤
     _______,   _______,   _______,   _______,   _______,   _______,   _______,   _______,   _______,   _______,   _______,   _______,
  //├──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┤
     _______,   _______,   _______,   _______,   _______,   _______,   _______,   _______,   _______,   _______,   _______,   _______,
  //├──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┼──────────┤
     _______,   _______,   _______,   _______,   _______,   _______,   _______,   _______,   _______,   _______,   _______,   _______
  //└──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┘
  )
};

layer_state_t layer_state_set_user(layer_state_t state) {
    return update_tri_layer_state(state, _LOWER, _RAISE, _ADJUST);
}